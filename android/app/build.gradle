plugins {
    id "com.android.application"
    id "org.jetbrains.kotlin.android"
    id "dev.flutter.flutter-gradle-plugin"
}
def lp = new Properties(); def lpf = rootProject.file("local.properties");
if (lpf.exists()) lpf.withReader("UTF-8"){ lp.load(it) }
def flutterVersionCode = (lp.getProperty("flutter.versionCode") ?: "1") as String
def flutterVersionName = (lp.getProperty("flutter.versionName") ?: "1.0") as String

android {
    namespace "com.example.harmoniq_clean_run"
    compileSdk flutter.compileSdkVersion
    ndkVersion flutter.ndkVersion
    compileOptions { sourceCompatibility JavaVersion.VERSION_17; targetCompatibility JavaVersion.VERSION_17 }
    kotlinOptions { jvmTarget = "17" }
    defaultConfig {
        applicationId "com.example.harmoniq_clean_run"
        minSdk 24
        targetSdk 34
        versionCode flutterVersionCode.toInteger()
        versionName flutterVersionName
    }
    buildTypes {
        debug { minifyEnabled false; shrinkResources false }
        release {
            minifyEnabled true; shrinkResources true
            proguardFiles getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro"
        }
    }
}
flutter { source "../.." }
dependencies { implementation platform("org.jetbrains.kotlin:kotlin-bom:2.1.0") }
